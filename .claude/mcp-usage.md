# MCP 工具使用规范

## 📚 Context7 MCP 实时文档获取

### 强制使用场景

Context7 MCP 提供实时的、版本特定的官方文档和代码示例。在以下情况下**必须**使用：

#### 1. 📖 技术文档查询 (Documentation Lookup)
- **触发条件**：
  - 用户询问特定库、框架或工具的用法
  - 需要查看最新的API文档或配置方法
  - 遇到库的版本兼容性问题
  - 需要官方示例代码或最佳实践
- **使用方式**：在提示中加入 "use context7" 关键词
- **执行时机**：在回答技术问题前首先获取最新文档

#### 2. 🔧 库和框架集成 (Library Integration)
- **触发条件**：
  - 集成新的第三方库或框架
  - 升级现有依赖版本
  - 解决库的使用问题或错误
  - 需要了解库的配置选项和参数
- **工具使用**：
  - 先使用 `resolve-library-id` 获取正确的库ID
  - 再使用 `get-library-docs` 获取文档内容
- **执行时机**：在编写集成代码前获取准确文档

#### 3. 🐛 问题诊断和调试 (Troubleshooting)
- **触发条件**：
  - 代码出现与第三方库相关的错误
  - API调用返回意外结果
  - 配置文件无法正常工作
  - 需要验证代码是否符合最新标准
- **使用策略**：获取最新文档来对比和验证代码实现
- **执行时机**：在诊断问题时首先确认官方文档

#### 4. 🆕 技术选型和评估 (Technology Assessment)
- **触发条件**：
  - 评估新技术或库的可行性
  - 比较不同解决方案的优缺点
  - 需要了解库的功能范围和限制
  - 规划技术栈升级路径
- **使用方法**：获取多个相关库的文档进行对比分析
- **执行时机**：在技术决策前进行充分调研

### 使用决策流程
```
技术问题分析
├─ 涉及第三方库/框架？
│  ├─ 需要最新文档？ → 使用 Context7 ("use context7")
│  ├─ 特定库查询？ → resolve-library-id + get-library-docs
│  └─ 问题诊断？ → 获取官方文档对比验证
├─ 技术选型？
│  └─ 批量获取相关技术文档进行评估
└─ 继续常规开发流程
```

### 效果提升目标
- **准确性提升 95%**：消除过时文档和错误信息
- **开发速度提升 40%**：减少文档查找和验证时间
- **错误率降低 70%**：避免基于错误信息的实现

## 🎨 21st-dev Magic MCP 智能UI开发

### 强制使用场景

在以下情况下**必须**优先使用 21st-dev Magic MCP 工具：

#### 1. 🎯 UI组件创建 (Component Creation)
- **触发条件**：
  - 用户使用 `/ui` 或 `/21` 命令
  - 需要创建新的 React 组件或 UI 元素
  - 提到"按钮"、"卡片"、"表单"、"导航"、"模态框"等组件关键词
  - 要求实现特定的界面模式或交互元素
- **使用工具**：`mcp___21st-dev_magic__21st_magic_component_builder`
- **执行时机**：在分析需求后立即使用，作为实现的第一步

#### 2. 🔄 组件优化重构 (Component Refinement)
- **触发条件**：
  - 用户要求"优化"、"改进"、"重新设计"现有组件
  - 提到界面"不够美观"、"需要现代化"、"体验不好"
  - 要求应用新的设计趋势（玻璃拟态、新拟物主义等）
  - 需要提升组件的用户体验或视觉效果
- **使用工具**：`mcp___21st-dev_magic__21st_magic_component_refiner`
- **执行时机**：读取现有代码后，在修改前使用

#### 3. 🔍 设计灵感获取 (Design Inspiration)
- **触发条件**：
  - 用户询问"如何设计..."、"有什么好的组件示例"
  - 需要参考现有的优秀设计模式
  - 要求查看特定类型组件的最佳实践
  - 在设计新功能前需要灵感和参考
- **使用工具**：`mcp___21st-dev_magic__21st_magic_component_inspiration`
- **执行时机**：在设计和开发阶段的前期调研

#### 4. 🎨 Logo和品牌元素集成 (Logo Integration)
- **触发条件**：
  - 用户使用 `/logo` 命令
  - 需要添加第三方服务Logo（支付宝、微信、GitHub等）
  - 提到"品牌标识"、"公司Logo"、"图标"需求
  - 要求集成社交媒体或支付平台的视觉元素
- **使用工具**：`mcp___21st-dev_magic__logo_search`
- **执行时机**：确定需要Logo后立即执行

### 使用决策流程
```
用户需求分析
├─ 涉及UI组件？
│  ├─ 新建组件？ → 使用 component_builder
│  ├─ 优化现有？ → 使用 component_refiner  
│  └─ 需要灵感？ → 使用 component_inspiration
├─ 需要Logo？
│  └─ 使用 logo_search
└─ 继续常规开发流程
```

### 集成到开发工作流程

#### 原型开发增强流程：
1. **需求分析** → **检查是否需要21st-dev MCP**
2. **使用相应MCP工具** → **获取组件代码/设计**
3. **集成到项目结构** → **按照项目标准组织代码**
4. **样式适配** → **确保与Tailwind CSS设计系统一致**
5. **功能实现** → **添加交互逻辑和状态管理**

#### 后续集成标准：
- **文件组织**：按照项目结构标准放置生成的代码
- **样式统一**：确保与现有Tailwind CSS类和自定义样式协调
- **功能完整**：补充必要的JavaScript交互逻辑
- **响应式适配**：验证在不同设备上的显示效果
- **代码优化**：根据项目规范调整生成的代码

### 效果提升目标
- **开发速度提升 60%**：减少组件设计和编码时间
- **设计质量保证**：确保所有组件达到现代设计标准
- **一致性维护**：跨项目的统一设计语言和组件模式