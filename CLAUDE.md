# CLAUDE.md

本文件为 Claude Code (claude.ai/code) 在此代码库中工作时提供指导说明。

## 📋 文档结构

本指南采用模块化结构，各部分规范存储在 `.claude/` 目录下的独立文件中：

- **[协作工作流程](.claude/workflow.md)** - 需求理解与确认机制，四阶段工作流程
- **[角色定义和技术标准](.claude/roles-and-standards.md)** - 全栈工程师职能、UI/UX设计标准、代码质量规范
- **[MCP 工具使用规范](.claude/mcp-usage.md)** - Context7 和 21st-dev Magic MCP 的强制使用场景
- **[项目结构和开发指南](.claude/project-structure.md)** - 项目架构、代码组织、平台管理
- **[上下文优化和Token管理](.claude/context-optimization.md)** - /compact 命令使用规范，优化对话效率
- **[项目文档管理规范](.claude/document-management.md)** - 禁止遗留临时文档，保持项目整洁
- **[Git 提交规范](.claude/git-standards.md)** - 强制中文提交信息，规范化版本控制
- **[质量保证标准](.claude/quality-assurance.md)** - Playwright MCP 自动化检测流程

## 🚀 快速开始

### 工作流程概述
1. **深度需求理解** - 仔细分析用户需求，主动澄清关键点
2. **方案制定** - 提供完整实现方案和技术说明  
3. **确认批准** - 等待用户明确确认后开始执行
4. **执行沟通** - 使用 TodoWrite 工具透明展示进度

### 核心技术栈
- **前端框架**: HTML + Tailwind CSS + 原生 JavaScript
- **架构模式**: 单页应用 (SPA) + 组件化设计
- **开发工具**: MCP 工具链 (Context7 + 21st-dev Magic + Playwright)
- **服务端**: Node.js 静态文件服务器

### 关键质量标准
- **移动优先**: 响应式设计，触摸友好的交互
- **现代美学**: 玻璃拟态、新拟物主义等前沿设计趋势
- **高性能**: 页面加载 < 1.5s，60fps 渲染性能
- **代码质量**: 模块化、可维护、文档完善

## 🎯 MCP 工具使用要点

### Context7 MCP (实时文档)
- **使用时机**: 涉及第三方库/框架时**必须**使用
- **触发关键词**: "use context7"
- **主要功能**: 获取最新官方文档和 API 示例

### 21st-dev Magic MCP (UI开发)
- **使用命令**: `/ui`, `/21`, `/logo`
- **适用场景**: UI组件创建、优化、Logo集成
- **效果提升**: 开发速度提升60%，设计质量保证

### Playwright MCP (质量保证)
- **执行时机**: 开发完成后**必须**进行自动化检测
- **检测内容**: 布局、多设备兼容、性能、功能完整性
- **通过标准**: 零布局错误，多设备兼容，性能达标

## 📁 项目结构速览

```
/project-name/
├── user-app/              # 用户端
├── admin-panel/           # 管理后台
├── merchant-dashboard/    # 商家后台
└── shared/               # 共享资源
```

每个客户端包含：
- `index.html` - 应用入口
- `assets/styles/` - CSS样式文件
- `assets/scripts/` - JavaScript逻辑
- `assets/data/` - 模拟数据和配置

## 🔧 开发命令

```bash
# 服务器管理
./start.sh          # 启动服务器 (后台运行)
./stop.sh           # 停止服务器  
./status.sh         # 查看状态和日志

# 开发调试
node serve.js       # 前台运行 (调试用)
tail -f server.log  # 查看实时日志
```

服务器运行在 **localhost:3000**，支持热重载和多项目路由。

## ⚠️ 重要提醒

1. **强制使用 MCP 工具** - 按照各模块规范要求使用相应的 MCP 工具
2. **质量门禁** - 只有通过 Playwright 自动化检测的代码才算开发完成
3. **上下文优化** - 合理使用 `/compact` 命令优化对话效率和token使用
4. **文档清洁** - 严禁遗留临时文档，及时清理调试和过程性MD文件
5. **中文提交** - 所有 Git 提交信息必须使用中文，格式为 "类型: 描述"
6. **用户确认** - 重要操作前必须等待用户明确确认
7. **进度透明** - 使用 TodoWrite 工具实时展示任务进度
8. **模块化开发** - 遵循项目结构标准和代码组织规范

## 📚 详细规范

请参考 `.claude/` 目录下的各个专门文档以获取完整的规范说明：

- 详细工作流程和沟通机制
- 完整的技术标准和代码质量要求  
- MCP 工具的具体使用方法和场景
- 项目架构和平台管理指南
- 上下文优化和Token管理策略
- 项目文档管理和清洁标准
- Git 提交规范和版本控制标准
- 自动化质量保证流程

---

**版本**: v2.0 (模块化重构版本)  
**更新日期**: 2025-08-14  
**适用平台**: 可扩展原型展示平台